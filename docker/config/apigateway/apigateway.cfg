top; configure terminal;

# configuration generated Thu Feb 20 13:07:26 2020; firmware version 315826

%if% available "domain-settings"

domain-settings
  admin-state enabled
  password-treatment masked
exit

%endif%

crypto
  certificate "gwd_ca" "cert:///gwd/gwd_ca.pem"
exit

crypto
  certificate "gwd_cert" "cert:///gwd/gwd_cert.pem"
exit

crypto
  certificate "tls-server-profile-default_idcred_cert" "cert:///tls-server-profile-default_idcred_cert.pem"
exit

crypto
  key "gwd_key" "cert:///gwd/gwd_key.pem"
exit

crypto
  key "tls-server-profile-default_idcred_key" "cert:///tls-server-profile-default_idcred_key.pem"
exit

crypto
  sskey "default_oauth_shared_secret" "cert:///oauth_256.txt"
exit

crypto
  idcred "gwd_id_cred" "gwd_key" "gwd_cert" ca "gwd_ca"
exit

crypto
  idcred "tls-server-profile-default_idcred" "tls-server-profile-default_idcred_key" "tls-server-profile-default_idcred_cert"
exit

crypto
  
%if% available "ssl-client"

ssl-client "gwd_client"
  protocols "TLSv1d2" 
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
  ciphers ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_DSS_WITH_3DES_EDE_CBC_SHA
  ciphers RSA_WITH_3DES_EDE_CBC_SHA
  idcred gwd_id_cred
  no validate-server-cert 
  caching 
  cache-timeout 300
  cache-size 100
  ssl-client-features "use-sni" 
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
  use-custom-sni-hostname no
  no validate-hostname 
  no hostname-validation-fail 
exit

exit

crypto
  
ssl-client "localtest_sandbox_tlsp-tls-client-profile-defaultV1.0.0"
  protocols "TLSv1d2" 
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  no validate-server-cert 
  caching 
  cache-timeout 300
  cache-size 100
  ssl-client-features "use-sni+permit-insecure-servers" 
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
  use-custom-sni-hostname no
  no validate-hostname 
  no hostname-validation-fail 
exit

%endif%

exit

crypto
  
%if% available "ssl-server"

ssl-server "gwd_server"
  protocols "TLSv1d2" 
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
  ciphers ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_DSS_WITH_3DES_EDE_CBC_SHA
  ciphers RSA_WITH_3DES_EDE_CBC_SHA
  idcred gwd_id_cred
  no request-client-auth 
  no require-client-auth 
  no validate-client-cert 
  send-client-auth-ca-list 
  caching 
  cache-timeout 300
  cache-size 20
  ssl-options "max-renegotiation" 
  max-duration 60
  max-renegotiation-allowed 0
  no prohibit-resume-on-reneg 
  no compression 
  no allow-legacy-renegotiation 
  prefer-server-ciphers 
  curves secp521r1
  curves secp384r1
  curves secp256k1
exit

exit

crypto
  
ssl-server "tls-server-profile-default"
  protocols "TLSv1d2" 
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  idcred tls-server-profile-default_idcred
  no request-client-auth 
  no require-client-auth 
  no validate-client-cert 
  send-client-auth-ca-list 
  caching 
  cache-timeout 300
  cache-size 20
  ssl-options "max-renegotiation" 
  max-duration 60
  max-renegotiation-allowed 0
  no prohibit-resume-on-reneg 
  no compression 
  no allow-legacy-renegotiation 
  prefer-server-ciphers 
  curves secp521r1
  curves secp384r1
  curves secp256k1
exit

%endif%

exit

crypto
  
%if% available "ssl-sni-mapping"

ssl-sni-mapping "apiconnect_https_server_map"
  sni-mapping "*" "tls-server-profile-default"
exit

%endif%

exit

crypto
  
%if% available "ssl-sni-server"

ssl-sni-server "apiconnect_https_sni_server"
  protocols "TLSv1d2" 
  sni-server-mapping apiconnect_https_server_map
  sni-server-default tls-server-profile-default
  ssl-options "max-renegotiation" 
  max-duration 3600
  max-renegotiation-allowed 0
exit

%endif%

exit
logging event default-log "all" "error"
logging event default-log "mgmt" "notice"

user-agent "default"
  summary "Default User Agent"
  max-redirects 8
  timeout 300
exit

%if% available "urlmap"

urlmap "default-attempt-stream-all"
  match "*"
exit

%endif%

%if% available "compile-options"

compile-options "default-attempt-stream"
  xslt-version XSLT10
  no strict 
  try-stream default-attempt-stream-all
  stack-size 524288
  wsi-validate ignore
  wsdl-validate-body strict
  wsdl-validate-headers lax
  wsdl-validate-faults strict
  no wsdl-wrapped-faults 
  no wsdl-strict-soap-version 
  no xacml-debug 
exit

%endif%

%if% available "api-routing"

api-routing "default-api-route"
exit

%endif%

%if% available "api-rate-limit"

api-rate-limit "default-api-ratelimit"
exit

%endif%

%if% available "api-security"

api-security "default-api-security"
exit

%endif%

%if% available "api-execute"

api-execute "default-api-execute"
exit

%endif%

%if% available "api-result"

api-result "default-api-result"
  output "OUTPUT"
exit

%endif%

%if% available "assembly-invoke"

assembly-invoke "localtest_sandbox_sports-api_1.0.0_invoke_3"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[0].execute[0]"
  url "https://fancave.mybluemix.net/api/team/scores?league={league}&date={date}"
  timeout 60
  method Keep
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  stop-on-error 
  error-types "ConnectionError" 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_sports-api_1.0.0_invoke_3_header-control
  parameter-control-list localtest_sandbox_sports-api_1.0.0_invoke_3_parameter-control
exit

assembly-invoke "localtest_sandbox_sports-api_1.0.0_invoke_4"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[1].execute[0]"
  url "https://fancave.mybluemix.net/api/player/list?league={league}"
  timeout 60
  method Keep
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  stop-on-error 
  error-types "ConnectionError" 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_sports-api_1.0.0_invoke_4_header-control
  parameter-control-list localtest_sandbox_sports-api_1.0.0_invoke_4_parameter-control
exit

assembly-invoke "localtest_sandbox_sports-api_1.0.0_invoke_5"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[2].execute[0]"
  url "https://fancave.mybluemix.net/api/news/feed?league={league}"
  timeout 60
  method Keep
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  stop-on-error 
  error-types "ConnectionError" 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_sports-api_1.0.0_invoke_5_header-control
  parameter-control-list localtest_sandbox_sports-api_1.0.0_invoke_5_parameter-control
exit

assembly-invoke "localtest_sandbox_sports-api_1.0.0_invoke_6"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[3].execute[0]"
  url "http://fancave-teams.demo.svc.cluster.local:3080/api/team/list?league={league}"
  timeout 60
  method Keep
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  stop-on-error 
  error-types "ConnectionError" 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_sports-api_1.0.0_invoke_6_header-control
  parameter-control-list localtest_sandbox_sports-api_1.0.0_invoke_6_parameter-control
exit

assembly-invoke "localtest_sandbox_utility_1.0.0_invoke_13"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[4].execute[1]"
  url "https://openidconnect.googleapis.com/v1/userinfo?scope=openid%20email%20profile"
  timeout 60
  method GET
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  no stop-on-error 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_utility_1.0.0_invoke_13_header-control
  parameter-control-list localtest_sandbox_utility_1.0.0_invoke_13_parameter-control
exit

assembly-invoke "localtest_sandbox_utility_1.0.0_invoke_15"
  title "get-jwk-auth0"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[5].execute[0]"
  url "https://ozairs.auth0.com/.well-known/jwks.json"
  timeout 60
  method GET
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  no stop-on-error 
  output "rsa256Key"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_utility_1.0.0_invoke_15_header-control
  parameter-control-list localtest_sandbox_utility_1.0.0_invoke_15_parameter-control
exit

assembly-invoke "localtest_sandbox_utility_1.0.0_invoke_2"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[0].execute[1]"
  url "https://httpbin.org/get"
  timeout 60
  method GET
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  no stop-on-error 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_utility_1.0.0_invoke_2_header-control
  parameter-control-list localtest_sandbox_utility_1.0.0_invoke_2_parameter-control
exit

assembly-invoke "localtest_sandbox_utility_1.0.0_invoke_5"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[1].execute[1]"
  url "https://httpbin.org/get"
  timeout 60
  method GET
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  no stop-on-error 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_utility_1.0.0_invoke_5_header-control
  parameter-control-list localtest_sandbox_utility_1.0.0_invoke_5_parameter-control
exit

assembly-invoke "localtest_sandbox_weather_1.0.0_invoke_3"
  title "invoke"
  correlation-path "$.x-ibm-configuration.assembly.execute[1]"
  url "$(target-url)"
  timeout 60
  method Keep
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  stop-on-error 
  error-types "ConnectionError" 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list localtest_sandbox_weather_1.0.0_invoke_3_header-control
  parameter-control-list localtest_sandbox_weather_1.0.0_invoke_3_parameter-control
exit

%endif%

%if% available "assembly-setvar"

assembly-setvar "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_set-variable_0"
  title "x-ibm-oauth-oidc-auto-generated-set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0]"
  variable
    action set
    name "oauth.oidc.issuer.url"
    type any
    value "$(JWTIssuer)"
  exit
  variable
    action set
    name "oauth.oidc.jwt.sign.jwk"
    type any
    value "$(JWSSignPrivateKey)"
  exit
  variable
    action set
    name "oauth.oidc.jwt.sign.algorithm"
    type any
    value "$(JWSAlgorithm)"
  exit
  variable
    action set
    name "oauth.oidc.jwk.kid"
    type any
    value "$(JWSSignKeyKID)"
  exit
exit

assembly-setvar "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_set-variable_3"
  title "oauth-auto-generated-grant-jwt-set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[0].execute[0]"
  variable
    action set
    name "oauth.processing.jwt.jwk"
    type any
    value "$(JWTGrantTypeJWK)"
  exit
exit

assembly-setvar "localtest_sandbox_utility_1.0.0_set-variable_11"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[3].execute[1]"
  variable
    action set
    name "message.body"
    type string
    value "$(generated.jwt)"
  exit
exit

assembly-setvar "localtest_sandbox_utility_1.0.0_set-variable_20"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[6].execute[0]"
  variable
    action set
    name "demo.identity.redirect.username"
    type string
    value "ozairs"
  exit
  variable
    action set
    name "demo.identity.redirect.confirmation"
    type string
    value "1234567890"
  exit
  variable
    action set
    name "demo.identity.redirect.error"
    type string
    value "Some Errror"
  exit
exit

assembly-setvar "localtest_sandbox_utility_1.0.0_set-variable_22"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[7].execute[0]"
  variable
    action set
    name "demo.identity.redirect.username"
    type string
    value "ozairs"
  exit
  variable
    action set
    name "demo.identity.redirect.confirmation"
    type string
    value "1234567890"
  exit
exit

assembly-setvar "localtest_sandbox_utility_1.0.0_set-variable_9"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[2].execute[2]"
  variable
    action set
    name "message.body"
    type string
    value "$(decoded.claims)"
  exit
exit

assembly-setvar "localtest_sandbox_weather_1.0.0_set-variable_1"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[0].execute[0]"
  variable
    action set
    name "target-url"
    type string
    value "https://myweatherprovider.mybluemix.net/current?zipcode=$(request.parameters.zipcode)"
  exit
exit

assembly-setvar "localtest_sandbox_weather_1.0.0_set-variable_2"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[1].execute[0]"
  variable
    action set
    name "target-url"
    type string
    value "https://myweatherprovider.mybluemix.net/today?zipcode=$(request.parameters.zipcode)"
  exit
exit

assembly-setvar "localtest_sandbox_weather_1.0.0_set-variable_5"
  title "set-variable"
  correlation-path "$.x-ibm-configuration.assembly.catch[0].execute[0]"
  variable
    action set
    name "message.body"
    type string
    value "{\"message\": \"Error occurred during search operation.\"}"
  exit
exit

%endif%

%if% available "assembly-switch"

assembly-switch "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch_12"
  title "x-ibm-oauth-oidc-auto-generated-switch"
  correlation-path "$.x-ibm-configuration.assembly.execute[3]"
  case "($exists(oauth.oidc.enabled))" "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch12_c0"
exit

assembly-switch "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch_2"
  title "oauth-auto-generated-switch"
  correlation-path "$.x-ibm-configuration.assembly.execute[2]"
  case "($operationPath() = '/oauth2/token' and oauth.processing.grant_type = 'urn:ietf:params:oauth:grant-type:jwt-bearer')" "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_c0"
  case "($operationPath() = '/oauth2/token')" "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_c1"
  case "($operationPath() = '/oauth2/authorize')" "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_c2"
  otherwise "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_ow"
exit

assembly-switch "localtest_sandbox_sports-api_1.0.0_switch_2"
  title "switch"
  correlation-path "$.x-ibm-configuration.assembly.execute[2]"
  case "(($httpVerb() = 'GET' and $operationPath() = '/scores'))" "localtest_sandbox_sports-api_1.0.0_switch2_c0"
  case "(($httpVerb() = 'GET' and $operationPath() = '/players'))" "localtest_sandbox_sports-api_1.0.0_switch2_c1"
  case "(($httpVerb() = 'GET' and $operationPath() = '/news'))" "localtest_sandbox_sports-api_1.0.0_switch2_c2"
  case "(($httpVerb() = 'GET' and $operationPath() = '/teams'))" "localtest_sandbox_sports-api_1.0.0_switch2_c3"
exit

assembly-switch "localtest_sandbox_utility_1.0.0_switch_0"
  title "switch"
  correlation-path "$.x-ibm-configuration.assembly.execute[0]"
  case "(($httpVerb() = 'GET' and $operationPath() = '/basic-auth/{username}/{password}'))" "localtest_sandbox_utility_1.0.0_switch0_c0"
  case "(($httpVerb() = 'GET' and $operationPath() = '/ping'))" "localtest_sandbox_utility_1.0.0_switch0_c1"
  case "(($httpVerb() = 'GET' and $operationPath() = '/validate'))" "localtest_sandbox_utility_1.0.0_switch0_c2"
  case "(($httpVerb() = 'GET' and $operationPath() = '/generate'))" "localtest_sandbox_utility_1.0.0_switch0_c3"
  case "(($httpVerb() = 'POST' and $operationPath() = '/introspect/google'))" "localtest_sandbox_utility_1.0.0_switch0_c4"
  case "(($httpVerb() = 'POST' and $operationPath() = '/introspect/auth0'))" "localtest_sandbox_utility_1.0.0_switch0_c5"
  case "(($httpVerb() = 'GET' and $operationPath() = '/redirect'))" "localtest_sandbox_utility_1.0.0_switch0_c6"
  case "(($httpVerb() = 'GET' and $operationPath() = '/redirect/authenticate'))" "localtest_sandbox_utility_1.0.0_switch0_c7"
  case "($httpVerb() = 'GET' and $operationPath() = '/scope-check')" "localtest_sandbox_utility_1.0.0_switch0_c8"
exit

assembly-switch "localtest_sandbox_weather_1.0.0_switch_0"
  title "switch"
  correlation-path "$.x-ibm-configuration.assembly.execute[0]"
  case "(($httpVerb() = 'GET' and $operationPath() = '/current'))" "localtest_sandbox_weather_1.0.0_switch0_c0"
  case "(($httpVerb() = 'GET' and $operationPath() = '/today'))" "localtest_sandbox_weather_1.0.0_switch0_c1"
exit

%endif%

stylepolicy "default"
  reset
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
exit

%if% available "metadata"

metadata "ftp-usercert-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
exit

metadata "ftp-username-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "password" "var://context/INPUT/ftp/password"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
  meta-item "variable" "username" "var://context/INPUT/ftp/username"
exit

metadata "oauth-scope-metadata"
  meta-item "variable" "scope" "var://context/INPUT/oauth/verified-scope"
exit

metadata "ssh-password-metadata"
  meta-item "variable" "password" "var://context/INPUT/ssh/password"
  meta-item "variable" "publickey" "var://context/INPUT/ssh/publickey"
  meta-item "variable" "username" "var://context/INPUT/ssh/username"
exit

%endif%

xmlmgr "default"
xsl cache size "default" "256"
xsl checksummed cache default
no tx-warn "default"
memoization "default"

xml parser limits "default"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default" *

xml-manager "default"
  summary "Default XML-Manager"
  user-agent "default"
exit

xmlmgr "default-attempt-stream"
xslconfig "default-attempt-stream" "default-attempt-stream"
xsl cache size "default-attempt-stream" "256"
xsl checksummed cache default-attempt-stream
no tx-warn "default-attempt-stream"
memoization "default-attempt-stream"

xml parser limits "default-attempt-stream"
 bytes-scanned 268435456
 element-depth 512
 attribute-count 128
 max-node-size 268435456
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-attempt-stream"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-attempt-stream" *

xml-manager "default-attempt-stream"
  summary "Default Streaming XML-Manager"
  user-agent "default"
exit

xmlmgr "default-wsrr"
xsl cache size "default-wsrr" "256"
xsl checksummed cache default-wsrr
no tx-warn "default-wsrr"
memoization "default-wsrr"

xml parser limits "default-wsrr"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-wsrr"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-wsrr" *

xml-manager "default-wsrr"
  summary "WSRR XML-Manager"
  user-agent "default"
exit

xmlmgr "xmlmgr_apiconnect"
xsl cache size "xmlmgr_apiconnect" "256"
xsl checksummed cache xmlmgr_apiconnect
no tx-warn "xmlmgr_apiconnect"
memoization "xmlmgr_apiconnect"

xml parser limits "xmlmgr_apiconnect"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "xmlmgr_apiconnect"
 no policy
 maxdocs "5000"
 size "4194304"
 max-writes "32768"
 policy "temporary:///*.json" "128" 900 "" off off off off off
exit
no xml validate "xmlmgr_apiconnect" *

xml-manager "xmlmgr_apiconnect"
  user-agent "default"
exit

%if% available "source-https"

source-https "apiconnect_https_9443"
  local-address 0.0.0.0
  port 9443
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+GET+PUT+PATCH+HEAD+OPTIONS+DELETE+CustomMethods+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 5000
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl-config-type sni
  ssl-sni-server apiconnect_https_sni_server
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
  chunked-encoding 
exit

%endif%

%if% available "wsm-stylepolicy"

wsm-stylepolicy "default"
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
exit

%endif%

%if% available "api-application-type"

api-application-type "app"
  title "oauth-api-application"
  supported-oauth-types "confidential" "accessCode"
  supported-oauth-types "confidential" "application"
  supported-oauth-types "confidential" "implicit"
  supported-oauth-types "confidential" "password"
exit

%endif%

%if% available "api-schema"

api-schema "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_definitions_access_token_response"
  json-schema "temporary:///swagger/localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0.json#/definitions/access_token_response"
exit

api-schema "localtest_sandbox_sports-api_1.0.0_News_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_sports-api_1.0.0.json#/paths/~1news/get/responses/200/schema"
exit

api-schema "localtest_sandbox_sports-api_1.0.0_Players_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_sports-api_1.0.0.json#/paths/~1players/get/responses/200/schema"
exit

api-schema "localtest_sandbox_sports-api_1.0.0_Scores_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_sports-api_1.0.0.json#/paths/~1scores/get/responses/200/schema"
exit

api-schema "localtest_sandbox_sports-api_1.0.0_Teams_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_sports-api_1.0.0.json#/paths/~1teams/get/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_Generate_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1generate/get/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_IntrospectAuth0_POST_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1introspect~1auth0/post/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_IntrospectGoogle_POST_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1introspect~1google/post/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_Redirect_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1redirect/get/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_RedirectAuthenticate_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1redirect~1authenticate/get/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_Scope-check_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1scope-check/get/responses/200/schema"
exit

api-schema "localtest_sandbox_utility_1.0.0_Validate_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_utility_1.0.0.json#/paths/~1validate/get/responses/200/schema"
exit

api-schema "localtest_sandbox_weather_1.0.0_Current_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_weather_1.0.0.json#/paths/~1current/get/responses/200/schema"
exit

api-schema "localtest_sandbox_weather_1.0.0_Today_GET_response_200"
  json-schema "temporary:///swagger/localtest_sandbox_weather_1.0.0.json#/paths/~1today/get/responses/200/schema"
exit

%endif%

%if% available "api-client-identification"

api-client-identification "default-api-client-identification"
exit

%endif%

%if% available "api-cors"

api-cors "default-api-cors"
exit

%endif%

%if% available "api-auth-url-reg"

api-auth-url-reg "localtest_sandbox_reg-local-registry"
  auth-url "https://eth0_ipv4_1:9443/localtest/sandbox/utility/basic-auth/spoon/spoon"
  tls-client localtest_sandbox_tlsp-tls-client-profile-defaultV1.0.0
exit

%endif%

%if% available "assembly-gatewayscript"

assembly-gatewayscript "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_gatewayscript_14"
  title "x-ibm-oauth-oidc-auto-generated-gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[3].switch.case[0].execute[1]"
  gatewayscript-location "temporary:///js/localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_gatewayscript_14.js"
exit

assembly-gatewayscript "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_gatewayscript_5"
  title "oauth-auto-generated-grant-jwt-gws"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[0].execute[2]"
  gatewayscript-location "temporary:///js/localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_gatewayscript_5.js"
exit

assembly-gatewayscript "localtest_sandbox_sports-api_1.0.0_gatewayscript_1"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[1]"
  gatewayscript-location "temporary:///js/localtest_sandbox_sports-api_1.0.0_gatewayscript_1.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_1"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[0].execute[0]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_1.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_12"
  title "read-input"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[4].execute[0]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_12.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_14"
  title "parse-response"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[4].execute[2]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_14.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_16"
  title "save-jwk"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[5].execute[1]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_16.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_17"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[5].execute[2]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_17.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_19"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[5].execute[4]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_19.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_21"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[6].execute[1]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_21.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_23"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[7].execute[1]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_23.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_24"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[8].execute[0]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_24.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_3"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[0].execute[2]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_3.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_4"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[1].execute[0]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_4.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_6"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[1].execute[2]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_6.js"
exit

assembly-gatewayscript "localtest_sandbox_utility_1.0.0_gatewayscript_7"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[2].execute[0]"
  gatewayscript-location "temporary:///js/localtest_sandbox_utility_1.0.0_gatewayscript_7.js"
exit

assembly-gatewayscript "localtest_sandbox_weather_1.0.0_gatewayscript_4"
  title "gatewayscript"
  correlation-path "$.x-ibm-configuration.assembly.execute[2]"
  gatewayscript-location "temporary:///js/localtest_sandbox_weather_1.0.0_gatewayscript_4.js"
exit

%endif%

%if% available "assembly-jwt-generate"

assembly-jwt-generate "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_jwt-generate_13"
  title "x-ibm-oauth-oidc-auto-generated-jwt-generate"
  correlation-path "$.x-ibm-configuration.assembly.execute[3].switch.case[0].execute[0]"
  jwt "oauth.oidc.idtoken"
  jti-claim 
  iss-claim "oauth.oidc.issuer.url"
  sub-claim "oauth.oidc.sub"
  aud-claim "oauth.oidc.aud"
  exp-claim 3600
  private-claims "oauth.oidc.claims"
  jws-jwk "oauth.oidc.jwt.sign.jwk"
  jws-alg "HS256"
exit

assembly-jwt-generate "localtest_sandbox_sports-api_1.0.0_jwt-generate_0"
  title "jwt-generate"
  correlation-path "$.x-ibm-configuration.assembly.execute[0]"
  jwt "generated.jwt"
  no jti-claim 
  iss-claim "iss-claim"
  sub-claim "sub-claim"
  aud-claim "aud-claim"
  exp-claim 3600
  jws-jwk "sign-jwk-rs256"
  jws-alg "RS256"
exit

assembly-jwt-generate "localtest_sandbox_utility_1.0.0_jwt-generate_10"
  title "jwt-generate"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[3].execute[0]"
  jwt "generated.jwt"
  no jti-claim 
  iss-claim "iss-claim"
  sub-claim "sub-claim"
  aud-claim "aud-claim"
  exp-claim 3600
  jws-jwk "sign-jwk-rs256"
  jws-alg "RS256"
exit

%endif%

%if% available "assembly-jwt-validate"

assembly-jwt-validate "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_jwt-validate_4"
  title "oauth-auto-generated-grant-jwt-validate"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[0].execute[1]"
  jwt "oauth.processing.assertion"
  output-claims "oauth.processing.jwt.claims"
  jws-jwk "oauth.processing.jwt.jwk"
exit

assembly-jwt-validate "localtest_sandbox_utility_1.0.0_jwt-validate_18"
  title "jwt-validate-jwk"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[5].execute[3]"
  jwt "token"
  output-claims "decoded.claims"
  iss-claim ".*"
  aud-claim ".*"
  jws-jwk "jwk-key"
exit

assembly-jwt-validate "localtest_sandbox_utility_1.0.0_jwt-validate_8"
  title "jwt-validate"
  correlation-path "$.x-ibm-configuration.assembly.execute[0].switch.case[2].execute[1]"
  jwt "request.headers.authorization"
  output-claims "decoded.claims"
  iss-claim ".*"
  aud-claim ".*"
  jws-jwk "verify-jwk-256"
exit

%endif%

%if% available "gateway-peering"

gateway-peering "default-gateway-peering"
  admin-state disabled
  local-address 0.0.0.0
  local-port 16380
  monitor-port 26380
  no enable-peer-group 
  priority 100
  enable-ssl 
  persistence memory
  local-directory local:///
  log-level internal
exit

gateway-peering "gwd"
  local-address eth0_ipv4_1
  local-port 16380
  monitor-port 26380
  enable-peer-group 
  priority 100
  no enable-ssl 
  persistence memory
  local-directory local:///
  log-level internal
exit

%endif%

%if% available "api-security-token-manager"

api-security-token-manager
  admin-state disabled
  gateway-peering default-gateway-peering
exit

%endif%

%if% available "oauth-provider-settings"

oauth-provider-settings "localtest_sandbox_oauth2-server"
  no enable-debug-mode 
  provider-type native
  scopes-allowed "openid sports weather"
  supported-grant-types "implicit+password+jwt+application+access_code" 
  supported-client-types "confidential" 
  apic-provider-base-path "/"
  apic-authorize-endpoint "/oauth2/authorize"
  apic-token-endpoint "/oauth2/token"
  apic-enable-introspection 
  apic-introspect-endpoint "/oauth2/introspect"
  apic-token-secret default_oauth_shared_secret
  no apic-enable-one-time-use-access-token 
  apic-access-token-ttl 3600
  apic-auth-code-ttl 300
  apic-enable-refresh-token 
  apic-enable-one-time-use-refresh-token 
  apic-refresh-token-limit 2048
  apic-refresh-token-ttl 2682000
  apic-maximum-consent-ttl 0
  no advanced-scope-validation-enabled 
  no advanced-scope-url-from-security 
  no advanced-scope-url-security-enabled 
  advanced-scope-url-security "basic-auth" 
  apic-enable-oidc 
  apic-oidc-hybrid-response-types "code_id_token" 
  apic-support-pkce 
  no apic-require-pkce 
  no apic-support-pkce-plain 
  metadata-from "authentication_url" 
  mdheader-for-accesstoken "X-API-OAUTH-METADATA-FOR-ACCESSTOKEN"
  mdheader-for-payload "X-API-OAUTH-METADATA-FOR-PAYLOAD"
  no enable-token-management 
  token-manager-type native
  no apic-app-revoke-enable 
  apic-app-revoke-endpoint "/oauth2/revoke"
  no apic-owner-revoke-enable 
  apic-owner-revoke-endpoint "/oauth2/issued"
  third-party-introspect-url-security "basic-auth" 
exit

%endif%

%if% available "assembly-oauth"

assembly-oauth "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_1"
  title "oauth-auto-generated-1"
  correlation-path "$.x-ibm-configuration.assembly.execute[1]"
  oauth-provider-settings-ref
    default localtest_sandbox_oauth2-server
  exit
  supported-oauth-components "OAuthValidateRequest" 
exit

assembly-oauth "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_10"
  title "oauth-auto-generated-2"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[2].execute[1]"
  oauth-provider-settings-ref
    default localtest_sandbox_oauth2-server
  exit
  supported-oauth-components "OAuthGenerateAZCode+OAuthVerifyAZCode+OAuthCollectMetadata+OAuthGenerateAccessToken" 
exit

assembly-oauth "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_11"
  title "oauth-auto-generated-4"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[3].otherwise[0]"
  oauth-provider-settings-ref
    default localtest_sandbox_oauth2-server
  exit
  supported-oauth-components "OAuthIntrospectToken+OAuthRevokeToken" 
exit

assembly-oauth "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_6"
  title "oauth-auto-generated-grant-jwt-oauth"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[0].execute[3]"
  oauth-provider-settings-ref
    default localtest_sandbox_oauth2-server
  exit
  supported-oauth-components "OAuthVerifyRefreshToken+OAuthCollectMetadata+OAuthGenerateAccessToken" 
exit

assembly-oauth "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_8"
  title "oauth-auto-generated-3"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[1].execute[1]"
  oauth-provider-settings-ref
    default localtest_sandbox_oauth2-server
  exit
  supported-oauth-components "OAuthVerifyAZCode+OAuthVerifyRefreshToken+OAuthCollectMetadata+OAuthGenerateAccessToken" 
exit

%endif%

%if% available "gateway-peering-manager"

gateway-peering-manager
  admin-state disabled
  apic-gw-service default-gateway-peering
  rate-limit default-gateway-peering
  subscription default-gateway-peering
exit

%endif%

%if% available "assembly-user-security"

assembly-user-security "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_user-security_7"
  title "user-security-auto-generated-password"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[1].execute[0]"
  factor-id "default"
  extract-identity-method context-var
  no ei-stop-on-error 
  user-context-var "request.parameters.username.values"
  pass-context-var "request.parameters.password.values"
  redirect-time-limit 300
  ei-default-form 
  ei-custom-form-csp "default-src 'self'"
  ei-form-time-limit 300
  user-auth-method user-registry
  no au-stop-on-error 
  user-registry localtest_sandbox_reg-local-registry
  auth-response-headers-pattern "(?)x-api*"
  auth-response-header-credential "X-API-Authenticated-Credential"
  user-az-method authenticated
  az-stop-on-error 
  az-default-form 
  az-custom-form-csp "default-src 'self'"
  az-form-time-limit 300
  no az-table-display-checkboxes 
  az-table-dynamic-entries "user.default.az.dynamic_entries"
exit

assembly-user-security "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_user-security_9"
  title "user-security-auto-generated"
  correlation-path "$.x-ibm-configuration.assembly.execute[2].switch.case[2].execute[0]"
  factor-id "default"
  extract-identity-method basic
  ei-stop-on-error 
  redirect-time-limit 300
  ei-default-form 
  ei-custom-form-csp "default-src 'self'"
  ei-form-time-limit 300
  user-auth-method user-registry
  au-stop-on-error 
  user-registry localtest_sandbox_reg-local-registry
  auth-response-headers-pattern "(?)x-api*"
  auth-response-header-credential "X-API-Authenticated-Credential"
  user-az-method authenticated
  az-stop-on-error 
  az-default-form 
  az-custom-form-csp "default-src 'self'"
  az-form-time-limit 300
  no az-table-display-checkboxes 
  az-table-dynamic-entries "user.default.az.dynamic_entries"
exit

%endif%

%if% available "api-rule"

api-rule "default-api-error-rule"
  action default-api-result
exit

api-rule "default-api-rule"
  action default-api-route
  action default-api-cors
  action default-api-client-identification
  action default-api-ratelimit
  action default-api-security
  action default-api-execute
  action default-api-result
exit

api-rule "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_main"
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_set-variable_0
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_1
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch_2
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch_12
exit

api-rule "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch12_c0"
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_jwt-generate_13
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_gatewayscript_14
exit

api-rule "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_c0"
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_set-variable_3
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_jwt-validate_4
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_gatewayscript_5
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_6
exit

api-rule "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_c1"
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_user-security_7
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_8
exit

api-rule "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_c2"
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_user-security_9
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_10
exit

api-rule "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_switch2_ow"
  action localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_oauth_11
exit

api-rule "localtest_sandbox_sports-api_1.0.0_main"
  action localtest_sandbox_sports-api_1.0.0_jwt-generate_0
  action localtest_sandbox_sports-api_1.0.0_gatewayscript_1
  action localtest_sandbox_sports-api_1.0.0_switch_2
exit

api-rule "localtest_sandbox_sports-api_1.0.0_switch2_c0"
  action localtest_sandbox_sports-api_1.0.0_invoke_3
exit

api-rule "localtest_sandbox_sports-api_1.0.0_switch2_c1"
  action localtest_sandbox_sports-api_1.0.0_invoke_4
exit

api-rule "localtest_sandbox_sports-api_1.0.0_switch2_c2"
  action localtest_sandbox_sports-api_1.0.0_invoke_5
exit

api-rule "localtest_sandbox_sports-api_1.0.0_switch2_c3"
  action localtest_sandbox_sports-api_1.0.0_invoke_6
exit

api-rule "localtest_sandbox_utility_1.0.0_main"
  action localtest_sandbox_utility_1.0.0_switch_0
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c0"
  action localtest_sandbox_utility_1.0.0_gatewayscript_1
  action localtest_sandbox_utility_1.0.0_invoke_2
  action localtest_sandbox_utility_1.0.0_gatewayscript_3
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c1"
  action localtest_sandbox_utility_1.0.0_gatewayscript_4
  action localtest_sandbox_utility_1.0.0_invoke_5
  action localtest_sandbox_utility_1.0.0_gatewayscript_6
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c2"
  action localtest_sandbox_utility_1.0.0_gatewayscript_7
  action localtest_sandbox_utility_1.0.0_jwt-validate_8
  action localtest_sandbox_utility_1.0.0_set-variable_9
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c3"
  action localtest_sandbox_utility_1.0.0_jwt-generate_10
  action localtest_sandbox_utility_1.0.0_set-variable_11
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c4"
  action localtest_sandbox_utility_1.0.0_gatewayscript_12
  action localtest_sandbox_utility_1.0.0_invoke_13
  action localtest_sandbox_utility_1.0.0_gatewayscript_14
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c5"
  action localtest_sandbox_utility_1.0.0_invoke_15
  action localtest_sandbox_utility_1.0.0_gatewayscript_16
  action localtest_sandbox_utility_1.0.0_gatewayscript_17
  action localtest_sandbox_utility_1.0.0_jwt-validate_18
  action localtest_sandbox_utility_1.0.0_gatewayscript_19
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c6"
  action localtest_sandbox_utility_1.0.0_set-variable_20
  action localtest_sandbox_utility_1.0.0_gatewayscript_21
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c7"
  action localtest_sandbox_utility_1.0.0_set-variable_22
  action localtest_sandbox_utility_1.0.0_gatewayscript_23
exit

api-rule "localtest_sandbox_utility_1.0.0_switch0_c8"
  action localtest_sandbox_utility_1.0.0_gatewayscript_24
exit

api-rule "localtest_sandbox_weather_1.0.0_catch0"
  action localtest_sandbox_weather_1.0.0_set-variable_5
exit

api-rule "localtest_sandbox_weather_1.0.0_main"
  action localtest_sandbox_weather_1.0.0_switch_0
  action localtest_sandbox_weather_1.0.0_invoke_3
  action localtest_sandbox_weather_1.0.0_gatewayscript_4
exit

api-rule "localtest_sandbox_weather_1.0.0_switch0_c0"
  action localtest_sandbox_weather_1.0.0_set-variable_1
exit

api-rule "localtest_sandbox_weather_1.0.0_switch0_c1"
  action localtest_sandbox_weather_1.0.0_set-variable_2
exit

%endif%

%if% available "assembly"

assembly "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0"
  rule localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_main
exit

assembly "localtest_sandbox_sports-api_1.0.0"
  rule localtest_sandbox_sports-api_1.0.0_main
exit

assembly "localtest_sandbox_utility_1.0.0"
  rule localtest_sandbox_utility_1.0.0_main
exit

assembly "localtest_sandbox_weather_1.0.0"
  rule localtest_sandbox_weather_1.0.0_main
  catch "ConnectionError" "localtest_sandbox_weather_1.0.0_catch0"
  catch "RuntimeError" "localtest_sandbox_weather_1.0.0_catch0"
exit

%endif%

no statistics

%if% available "apic-gw-service"

apic-gw-service
  admin-state enabled
  local-address eth0_ipv4_1
  local-port 3000
  ssl-client gwd_client
  ssl-server gwd_server
  api-gw-address eth0_ipv4_1
  api-gw-port 9443
  gateway-peering gwd
  gateway-peering-manager default
  no v5-compatibility-mode 
  slm-mode autounicast
  no database-mode 
  no log-strip-non-ascii 
exit

%endif%

%if% available "api-sec-apikey"

api-sec-apikey "localtest_sandbox_sports-api_1.0.0_clientID"
  where header
  type id
  key-name "X-IBM-Client-Id"
exit

api-sec-apikey "localtest_sandbox_weather_1.0.0_clientID"
  where header
  type id
  key-name "X-IBM-Client-Id"
exit

%endif%

%if% available "api-sec-oauth"

api-sec-oauth "localtest_sandbox_sports-api_1.0.0_oauth2-server"
  oauth-provider localtest_sandbox_oauth2-server
  oauth-flow application
  oauth-scope "openid sports weather"
exit

api-sec-oauth "localtest_sandbox_weather_1.0.0_oauth2-server"
  oauth-provider localtest_sandbox_oauth2-server
  oauth-flow accessCode
  oauth-scope "openid weather"
exit

%endif%

%if% available "api-sec-oauth-req"

api-sec-oauth-req "localtest_sandbox_sports-api_1.0.0_oauth2-server_req_0"
  oauth-definition localtest_sandbox_sports-api_1.0.0_oauth2-server
  allowed-scopes "sports"
exit

api-sec-oauth-req "localtest_sandbox_weather_1.0.0_oauth2-server_req_0"
  oauth-definition localtest_sandbox_weather_1.0.0_oauth2-server
  allowed-scopes "weather"
exit

%endif%

%if% available "api-sec-req"

api-sec-req "localtest_sandbox_sports-api_1.0.0_secr_0"
  security localtest_sandbox_sports-api_1.0.0_clientID
  security localtest_sandbox_sports-api_1.0.0_oauth2-server_req_0
exit

api-sec-req "localtest_sandbox_weather_1.0.0_secr_0"
  security localtest_sandbox_weather_1.0.0_clientID
  security localtest_sandbox_weather_1.0.0_oauth2-server_req_0
exit

%endif%

%if% available "api-operation"

api-operation "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Authorize_GET"
  method GET
  no remove-consume 
  response-schema "200" ""
  response-schema "302" ""
  parameter "scope" "off" "string" "query" ""
  parameter "state" "off" "string" "query" ""
  parameter "client_id" "off" "string" "query" ""
  parameter "redirect_uri" "off" "string" "query" ""
  parameter "response_type" "off" "string" "query" ""
  no remove-security 
exit

api-operation "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Authorize_POST"
  method POST
  no remove-consume 
  response-schema "200" ""
  parameter "scope" "off" "string" "formdata" ""
  parameter "client_id" "off" "string" "formdata" ""
  parameter "redirect_uri" "off" "string" "formdata" ""
  parameter "response_type" "off" "string" "formdata" ""
  remove-security 
exit

api-operation "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Token_POST"
  method POST
  no remove-consume 
  response-schema "200" ""
  parameter "grant_type" "on" "string" "formdata" ""
  no remove-security 
exit

api-operation "localtest_sandbox_sports-api_1.0.0_News_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_sports-api_1.0.0_News_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_sports-api_1.0.0_Players_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_sports-api_1.0.0_Players_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_sports-api_1.0.0_Scores_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_sports-api_1.0.0_Scores_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_sports-api_1.0.0_Teams_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_sports-api_1.0.0_Teams_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_Basic-authParamUsernameParamPassword_GET"
  method GET
  no remove-consume 
  response-schema "200" ""
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_Generate_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_Generate_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_IntrospectAuth0_POST"
  method POST
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_IntrospectAuth0_POST_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_IntrospectGoogle_POST"
  method POST
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_IntrospectGoogle_POST_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_Ping_GET"
  method GET
  no remove-consume 
  response-schema "200" ""
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_Redirect_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_Redirect_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_RedirectAuthenticate_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_RedirectAuthenticate_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_Scope-check_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_Scope-check_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_utility_1.0.0_Validate_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_utility_1.0.0_Validate_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_weather_1.0.0_Current_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_weather_1.0.0_Current_GET_response_200"
  no remove-security 
exit

api-operation "localtest_sandbox_weather_1.0.0_Today_GET"
  method GET
  no remove-consume 
  response-schema "200" "localtest_sandbox_weather_1.0.0_Today_GET_response_200"
  no remove-security 
exit

%endif%

%if% available "api-path"

api-path "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Authorize"
  path "/oauth2/authorize"
  operation localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Authorize_GET
  operation localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Authorize_POST
exit

api-path "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Token"
  path "/oauth2/token"
  operation localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Token_POST
exit

api-path "localtest_sandbox_sports-api_1.0.0_News"
  path "/news"
  operation localtest_sandbox_sports-api_1.0.0_News_GET
  parameter "league" "off" "string" "query" ""
exit

api-path "localtest_sandbox_sports-api_1.0.0_Players"
  path "/players"
  operation localtest_sandbox_sports-api_1.0.0_Players_GET
  parameter "league" "off" "string" "query" ""
exit

api-path "localtest_sandbox_sports-api_1.0.0_Scores"
  path "/scores"
  operation localtest_sandbox_sports-api_1.0.0_Scores_GET
  parameter "date" "off" "string" "query" ""
  parameter "league" "off" "string" "query" ""
exit

api-path "localtest_sandbox_sports-api_1.0.0_Teams"
  path "/teams"
  operation localtest_sandbox_sports-api_1.0.0_Teams_GET
  parameter "league" "off" "string" "query" ""
exit

api-path "localtest_sandbox_utility_1.0.0_Basic-authParamUsernameParamPassword"
  path "/basic-auth/{username}/{password}"
  operation localtest_sandbox_utility_1.0.0_Basic-authParamUsernameParamPassword_GET
  parameter "password" "on" "string" "path" ""
  parameter "username" "on" "string" "path" ""
  parameter "Authorization" "off" "string" "header" ""
exit

api-path "localtest_sandbox_utility_1.0.0_Generate"
  path "/generate"
  operation localtest_sandbox_utility_1.0.0_Generate_GET
exit

api-path "localtest_sandbox_utility_1.0.0_IntrospectAuth0"
  path "/introspect/auth0"
  operation localtest_sandbox_utility_1.0.0_IntrospectAuth0_POST
exit

api-path "localtest_sandbox_utility_1.0.0_IntrospectGoogle"
  path "/introspect/google"
  operation localtest_sandbox_utility_1.0.0_IntrospectGoogle_POST
exit

api-path "localtest_sandbox_utility_1.0.0_Ping"
  path "/ping"
  operation localtest_sandbox_utility_1.0.0_Ping_GET
exit

api-path "localtest_sandbox_utility_1.0.0_Redirect"
  path "/redirect"
  operation localtest_sandbox_utility_1.0.0_Redirect_GET
  parameter "password" "on" "string" "path" ""
  parameter "username" "on" "string" "path" ""
  parameter "Authorization" "off" "string" "header" ""
exit

api-path "localtest_sandbox_utility_1.0.0_RedirectAuthenticate"
  path "/redirect/authenticate"
  operation localtest_sandbox_utility_1.0.0_RedirectAuthenticate_GET
exit

api-path "localtest_sandbox_utility_1.0.0_Scope-check"
  path "/scope-check"
  operation localtest_sandbox_utility_1.0.0_Scope-check_GET
exit

api-path "localtest_sandbox_utility_1.0.0_Validate"
  path "/validate"
  operation localtest_sandbox_utility_1.0.0_Validate_GET
exit

api-path "localtest_sandbox_weather_1.0.0_Current"
  path "/current"
  operation localtest_sandbox_weather_1.0.0_Current_GET
  parameter "zipcode" "off" "string" "query" ""
exit

api-path "localtest_sandbox_weather_1.0.0_Today"
  path "/today"
  operation localtest_sandbox_weather_1.0.0_Today_GET
  parameter "zipcode" "off" "string" "query" ""
exit

%endif%

%if% available "api-definition"

api-definition "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0"
  id "dff44a0a-4242-48e2-bee7-66f74298e031"
  name "oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd"
  version "1.0.0"
  base-path "/"
  type standard
  assembly localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0
  path localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Authorize
  path localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_Oauth2Token
  swagger-location temporary:///swagger/localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0.json
  no require-api-mutual-tls 
  api-mutual-tls-source header
  property "JWTIssuer" "*" "IBM APIConnect"
  property "JWSAlgorithm" "*" "HS256"
  property "JWSSignKeyKID" "*" ""
  property "JWTGrantTypeJWK" "*" "{   \"kty\": \"RSA\",   \"d\":         \"IWwDpREZSZ3sF9GrEX1SXb8sLpSFjUL2XtJXmbQNGssBTx_WsoWXVdP8agewUjy0dXjOi4kazbb5foQ4Kn8RPx64pkozpdopx6kwsS9yIh_w0bB-1eJzIxiV1f18XX5g_Sqv_PJ63oNgS0QQCh3mECqp_wlzKbiDH5wSHDAuNLFXCTpCpxTe_Iyd2z1kJNDDSExs5Hj8oFCUSxXmYD9RM7UPgdae-bOayv4s5HCCif3ZrVzm-TjvNbLhcP75bRRzREPk2QjN2e1yPHs2uJBHmSQdiQ58G43fHs8Kqi5HDrF8e77vFB03MCUq37e3WcnrKRR8JxlrKGgf3PhDJp0OUQ\",           \"e\": \"AQAB\",   \"use\": \"sig\",   \"kid\": \"ozairs\",   \"alg\": \"RS256\",   \"n\":         \"hDyppyzLbrV4dDBDze5g-4LH5M9JiFKmFAp8Mt-GkOjhbn3VYU937GRugUTXyM9TrV15LJFA1PA5NRGZO-R8Wv_vQx6hmbbsD2ChouZlSWnSJ3ZFdijRSY_-vddbufAG2ucK0CCD0TyBD5WYe9tnpMOCxv4eGAsUN6BT9OhcEJEWv3cvyHK6DUATjpx4ExaQi1wgAVbfCBK-A5au4ApOLRQjZ-tLCt3rTbqtkRUuES4nf1bS70YU8rsPBK71gQz2KZP4PHRfBGYZTy-8XWCgG3yOJpd7kRz0ratDc-xJC2wlGK4Q8kTPmhMvi6IvSJswQTDu4spSilcbdqEOVKfzeQ\"         }"
  property "JWSSignPrivateKey" "*" "{   \"kty\": \"oct\",   \"use\": \"sig\",   \"kid\": \"ozairs\",   \"k\": \"IRX6xLvAcGlPHnPqFWR_RXPJkSgYbCBTC7tE_k61WbYy6mpYtMAG0BGBtfLOcoT2U8n1X2EFl0ykV_bWg-V6YRJM1I3Mw_KtdwnNSXONC-d9JochuMQCGvv6QyjP77qdDeNtHLrrs9lBP4jXO5C22AGPgvtH3dD2mpmE7jlRocd1A8-eguKWdH5p0b8t80vFhbxCK9sY5fDTwOeJ5wH38F_lFrsLFfXqMkYD_HhMPUJOz1sP0HxqQCj1HM24EY-cHwsLg_3hnweE8wVsSTZZOMxqqGFFdjbXGiXm1OllSIJz9ptd90dws176jP7BkaxB5nG0QdsHH9btUTGjZmD_gg\",   \"alg\": \"HS256\" }"
  schema "access_token_response" "localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0_definitions_access_token_response"
  cors 
  activity-log 
  success-content activity
  error-content payload
  no message-buffering 
  deployment-state running
  share-count unset
exit

api-definition "localtest_sandbox_sports-api_1.0.0"
  id "f420d621-41d9-483e-93b1-9a625e9649ea"
  name "sports-api"
  version "1.0.0"
  base-path "/sports"
  type standard
  assembly localtest_sandbox_sports-api_1.0.0
  path localtest_sandbox_sports-api_1.0.0_News
  path localtest_sandbox_sports-api_1.0.0_Scores
  path localtest_sandbox_sports-api_1.0.0_Players
  path localtest_sandbox_sports-api_1.0.0_Teams
  swagger-location temporary:///swagger/localtest_sandbox_sports-api_1.0.0.json
  security-req localtest_sandbox_sports-api_1.0.0_secr_0
  no require-api-mutual-tls 
  api-mutual-tls-source header
  property "aud-claim" "*" "client-id-12345"
  property "iss-claim" "*" "ozairs4@example.com"
  property "sub-claim" "*" "ozairs@example.com"
  property "target-server" "*" "https://fancave.bluemix.net"
  property "sign-jwk-rs256" "*" "{     \"p\": \"8qKYF9FqYrrAIsCm5kiy2UiGFfhjghYquB-xdHLYz6wXHdCPgIPH9EtynNIchidPRClw5g_NPXu2X6z3ol35c--YEy6wQBRnsYQAvPIQRGVxvXRsVaZhg-geE_msIQ22h5JXQbMS9NDFcZBZYLu5hgAvn1Qu8CV6exeeGohNAWU\",     \"kty\": \"RSA\",     \"q\": \"6QH20yqJZeNg1mHNz0tifOyEIYvQrnZh5RHhgo7rXOa6nYfUBRYzQ-a3TtDVqYMudo4DITb0t4EX6CynpXYwtXJTwlumoqPD1Osu4_lsBwlhMH7fhiZg63wxQ4dNPrIblrVi5rXPCJkRtIda2Y-9r4pIQm2JyaXcWXxM2feBINc\",     \"d\": \"2RRC9mZZQRBaVyiuV37Ls14_lOxbRuejBp3WtxWFxNl3EpDV-dHRVeVPZ7E0UgjjhrtgokWbUKPoNie3sUL0X3_Ddf-8fQ2pEN8xRPlovG2grTO2dP4vNPxBJGSFxhA-p4rkhuhQbqRJDSH-EuC1Yb6uvEGzu8bvezvCkr_uYMmst2y2qEwTZzgUbM4iK2JUuuy-SbJ3tKw9DAFRmSSLeI9ihd_ieACozjv4mucPaSr6FvJaGGxEpUQnZV8FICRLLAufpNXUrC5q3bGDXklUapQzglTAF0dBLz4JT6SaWlXVXrwQ9HfoQaxuW3epawNxmSjWQvpTJCmuPr27Q2-tYQ\",     \"e\": \"AQAB\",     \"use\": \"sig\",     \"kid\": \"ibm-apiconnect\",     \"qi\": \"fZcdGnJacUC0QFGcngRD_TQKLVgeB9nDMsOAvCvJCZVBNdD3m7ra4Kb1AOrdhvsCHh0VQMZfc-nLyhhz2JF1-p2w8qbTKoQ3S3DLE2VyoyBfEysNBd_KvnWYoQG8xo8OEHiJqCekQQkph6Fkkmev6KuZdxRJUOFjJ5YSbj-jkcY\",     \"dp\": \"ZbRwCnPWo0Hire6RRzAr_9ZdljIDDBFcoMdwK_7EEPDy06WLsXQLycQia8fK-xTZLhos39K51k7YGGy5dI7ttII2_btxV7r16DwLzyesV-8p6R83FgPjFlai3P6n_0bvPw7BkqGMjaBBUyQNwvWNg7TqQWAZOMKM_7HbrQV7Od0\",     \"alg\": \"RS256\",     \"dq\": \"BmvFb4BGlQY1DvNXBpVfO24RHhOKRqSAgh2CB2UE22SIU_sAPruj4gUjnAppOOiiiSXUtD-dcskd7Yn9fLPLF9T0tfBsoSK-LMnmWuXusiryALIeWsYH-bVMbj32RPoHhJmvBgiQkf4V3NG2ETTC12mKIDqAh4wIjHa-b2tApbU\",     \"n\": \"3NfZAKgsyq0mOiiOTIKs27fIH5Wgetp6W6hvm3XzCd5AzoxUShrYLh-3kT3FS1GNEpwHjpfbl4fM2xsX9WyKz5UQyvgDrM9-qrh-a0ZUTVeGqeD0UcktNDsoAxMRSfRqNtCBBDtJzKz5wjWtM-0mFHU_nD2MTRrME9GjtCfe8JrDuWMmQ2HoY-7B3mqovaL70Dw-0n48wOS_HbKu4c8AY01xvMOAWv_I5-b2lYtuBpGEO921AuiKQQyUF4OBPZs9pp4aXtrLQ-_pm6HDijTq-j9Yqw0s9pw5RuZaXyfcZidp0Zid4YS_qjyQOkj_utWRf_R8X5FslTvJFj8VP73L0w\" }"
  cors 
  activity-log 
  success-content activity
  error-content header
  no message-buffering 
  deployment-state running
  share-count unset
exit

api-definition "localtest_sandbox_utility_1.0.0"
  id "d1e93277-1dfc-49ce-a7ab-16e0bed03cb5"
  name "utility"
  version "1.0.0"
  base-path "/utility"
  type standard
  assembly localtest_sandbox_utility_1.0.0
  path localtest_sandbox_utility_1.0.0_Scope-check
  path localtest_sandbox_utility_1.0.0_RedirectAuthenticate
  path localtest_sandbox_utility_1.0.0_Redirect
  path localtest_sandbox_utility_1.0.0_IntrospectGoogle
  path localtest_sandbox_utility_1.0.0_IntrospectAuth0
  path localtest_sandbox_utility_1.0.0_Generate
  path localtest_sandbox_utility_1.0.0_Validate
  path localtest_sandbox_utility_1.0.0_Ping
  path localtest_sandbox_utility_1.0.0_Basic-authParamUsernameParamPassword
  swagger-location temporary:///swagger/localtest_sandbox_utility_1.0.0.json
  no require-api-mutual-tls 
  api-mutual-tls-source header
  property "sign-jwk" "*" "{   \"kty\": \"oct\",   \"use\": \"sig\",   \"kid\": \"ozairs\",   \"k\": \"IRX6xLvAcGlPHnPqFWR_RXPJkSgYbCBTC7tE_k61WbYy6mpYtMAG0BGBtfLOcoT2U8n1X2EFl0ykV_bWg-V6YRJM1I3Mw_KtdwnNSXONC-d9JochuMQCGvv6QyjP77qdDeNtHLrrs9lBP4jXO5C22AGPgvtH3dD2mpmE7jlRocd1A8-eguKWdH5p0b8t80vFhbxCK9sY5fDTwOeJ5wH38F_lFrsLFfXqMkYD_HhMPUJOz1sP0HxqQCj1HM24EY-cHwsLg_3hnweE8wVsSTZZOMxqqGFFdjbXGiXm1OllSIJz9ptd90dws176jP7BkaxB5nG0QdsHH9btUTGjZmD_gg\",   \"alg\": \"HS256\" }"
  property "aud-claim" "*" "client-id-12345"
  property "iss-claim" "*" "ozairs4@example.com"
  property "sub-claim" "*" "ozairs@example.com"
  property "sign-jwk-rs256" "*" "{     \"p\": \"8qKYF9FqYrrAIsCm5kiy2UiGFfhjghYquB-xdHLYz6wXHdCPgIPH9EtynNIchidPRClw5g_NPXu2X6z3ol35c--YEy6wQBRnsYQAvPIQRGVxvXRsVaZhg-geE_msIQ22h5JXQbMS9NDFcZBZYLu5hgAvn1Qu8CV6exeeGohNAWU\",     \"kty\": \"RSA\",     \"q\": \"6QH20yqJZeNg1mHNz0tifOyEIYvQrnZh5RHhgo7rXOa6nYfUBRYzQ-a3TtDVqYMudo4DITb0t4EX6CynpXYwtXJTwlumoqPD1Osu4_lsBwlhMH7fhiZg63wxQ4dNPrIblrVi5rXPCJkRtIda2Y-9r4pIQm2JyaXcWXxM2feBINc\",     \"d\": \"2RRC9mZZQRBaVyiuV37Ls14_lOxbRuejBp3WtxWFxNl3EpDV-dHRVeVPZ7E0UgjjhrtgokWbUKPoNie3sUL0X3_Ddf-8fQ2pEN8xRPlovG2grTO2dP4vNPxBJGSFxhA-p4rkhuhQbqRJDSH-EuC1Yb6uvEGzu8bvezvCkr_uYMmst2y2qEwTZzgUbM4iK2JUuuy-SbJ3tKw9DAFRmSSLeI9ihd_ieACozjv4mucPaSr6FvJaGGxEpUQnZV8FICRLLAufpNXUrC5q3bGDXklUapQzglTAF0dBLz4JT6SaWlXVXrwQ9HfoQaxuW3epawNxmSjWQvpTJCmuPr27Q2-tYQ\",     \"e\": \"AQAB\",     \"use\": \"sig\",     \"kid\": \"ibm-apiconnect\",     \"qi\": \"fZcdGnJacUC0QFGcngRD_TQKLVgeB9nDMsOAvCvJCZVBNdD3m7ra4Kb1AOrdhvsCHh0VQMZfc-nLyhhz2JF1-p2w8qbTKoQ3S3DLE2VyoyBfEysNBd_KvnWYoQG8xo8OEHiJqCekQQkph6Fkkmev6KuZdxRJUOFjJ5YSbj-jkcY\",     \"dp\": \"ZbRwCnPWo0Hire6RRzAr_9ZdljIDDBFcoMdwK_7EEPDy06WLsXQLycQia8fK-xTZLhos39K51k7YGGy5dI7ttII2_btxV7r16DwLzyesV-8p6R83FgPjFlai3P6n_0bvPw7BkqGMjaBBUyQNwvWNg7TqQWAZOMKM_7HbrQV7Od0\",     \"alg\": \"RS256\",     \"dq\": \"BmvFb4BGlQY1DvNXBpVfO24RHhOKRqSAgh2CB2UE22SIU_sAPruj4gUjnAppOOiiiSXUtD-dcskd7Yn9fLPLF9T0tfBsoSK-LMnmWuXusiryALIeWsYH-bVMbj32RPoHhJmvBgiQkf4V3NG2ETTC12mKIDqAh4wIjHa-b2tApbU\",     \"n\": \"3NfZAKgsyq0mOiiOTIKs27fIH5Wgetp6W6hvm3XzCd5AzoxUShrYLh-3kT3FS1GNEpwHjpfbl4fM2xsX9WyKz5UQyvgDrM9-qrh-a0ZUTVeGqeD0UcktNDsoAxMRSfRqNtCBBDtJzKz5wjWtM-0mFHU_nD2MTRrME9GjtCfe8JrDuWMmQ2HoY-7B3mqovaL70Dw-0n48wOS_HbKu4c8AY01xvMOAWv_I5-b2lYtuBpGEO921AuiKQQyUF4OBPZs9pp4aXtrLQ-_pm6HDijTq-j9Yqw0s9pw5RuZaXyfcZidp0Zid4YS_qjyQOkj_utWRf_R8X5FslTvJFj8VP73L0w\" }"
  property "verify-jwk-256" "*" "{     \"kty\": \"RSA\",     \"e\": \"AQAB\",     \"use\": \"sig\",     \"kid\": \"ibm-apiconnect\",     \"alg\": \"RS256\",     \"n\": \"3NfZAKgsyq0mOiiOTIKs27fIH5Wgetp6W6hvm3XzCd5AzoxUShrYLh-3kT3FS1GNEpwHjpfbl4fM2xsX9WyKz5UQyvgDrM9-qrh-a0ZUTVeGqeD0UcktNDsoAxMRSfRqNtCBBDtJzKz5wjWtM-0mFHU_nD2MTRrME9GjtCfe8JrDuWMmQ2HoY-7B3mqovaL70Dw-0n48wOS_HbKu4c8AY01xvMOAWv_I5-b2lYtuBpGEO921AuiKQQyUF4OBPZs9pp4aXtrLQ-_pm6HDijTq-j9Yqw0s9pw5RuZaXyfcZidp0Zid4YS_qjyQOkj_utWRf_R8X5FslTvJFj8VP73L0w\" }"
  cors 
  activity-log 
  success-content activity
  error-content header
  no message-buffering 
  deployment-state running
  share-count unset
exit

api-definition "localtest_sandbox_weather_1.0.0"
  id "a33642f7-e2f3-4e8c-9910-df18e4825091"
  name "weather"
  version "1.0.0"
  base-path "/weather"
  type standard
  assembly localtest_sandbox_weather_1.0.0
  path localtest_sandbox_weather_1.0.0_Today
  path localtest_sandbox_weather_1.0.0_Current
  swagger-location temporary:///swagger/localtest_sandbox_weather_1.0.0.json
  security-req localtest_sandbox_weather_1.0.0_secr_0
  no require-api-mutual-tls 
  api-mutual-tls-source header
  property "sign-jwk" "*" "{     \"kty\": \"oct\",     \"use\": \"sig\",     \"kid\": \"ozairs\",     \"k\": \"IRX6xLvAcGlPHnPqFWR_RXPJkSgYbCBTC7tE_k61WbYy6mpYtMAG0BGBtfLOcoT2U8n1X2EFl0ykV_bWg-V6YRJM1I3Mw_KtdwnNSXONC-d9JochuMQCGvv6QyjP77qdDeNtHLrrs9lBP4jXO5C22AGPgvtH3dD2mpmE7jlRocd1A8-eguKWdH5p0b8t80vFhbxCK9sY5fDTwOeJ5wH38F_lFrsLFfXqMkYD_HhMPUJOz1sP0HxqQCj1HM24EY-cHwsLg_3hnweE8wVsSTZZOMxqqGFFdjbXGiXm1OllSIJz9ptd90dws176jP7BkaxB5nG0QdsHH9btUTGjZmD_gg\",     \"alg\": \"HS256\" }"
  property "iss-claim" "*" "ozairs@example.com"
  property "target-url" "*" ""
  cors 
  activity-log 
  success-content activity
  error-content header
  no message-buffering 
  deployment-state running
  share-count unset
exit

%endif%

%if% available "api-plan"

api-plan "localtest_sandbox_sports-api-auto-product_1.0.0_default"
  name "default"
  product-id "1b94b8bb-170a-43b5-834a-9f38bc5295bb"
  product-name "sports-api-auto-product"
  product-version "1.0.0"
  product-title "sports-api auto product"
  rate-limit "rate-limit" "100" "1" "hour" "off" "on" "on" "off" "off" "off" ""
  api localtest_sandbox_sports-api_1.0.0
  api localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0
  rate-limit-scope per-application
exit

api-plan "localtest_sandbox_sports-product_1.0.0_beta-plan"
  name "beta-plan"
  product-id "f05033f0-c6df-4ef4-b9e6-49e9b66cdb9d"
  product-name "sports-product"
  product-version "1.0.0"
  product-title "sports-product"
  rate-limit "default" "100" "1" "hour" "off" "on" "on" "off" "off" "off" ""
  api localtest_sandbox_sports-api_1.0.0
  api localtest_sandbox_utility_1.0.0
  api localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0
  rate-limit-scope per-application
exit

api-plan "localtest_sandbox_sports-product_1.0.0_premium-plan"
  name "premium-plan"
  product-id "f05033f0-c6df-4ef4-b9e6-49e9b66cdb9d"
  product-name "sports-product"
  product-version "1.0.0"
  product-title "sports-product"
  rate-limit "default" "100" "1" "hour" "off" "on" "on" "off" "off" "off" ""
  api localtest_sandbox_sports-api_1.0.0
  api localtest_sandbox_utility_1.0.0
  api localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0
  rate-limit-scope per-application
exit

api-plan "localtest_sandbox_utility-auto-product_1.0.0_default"
  name "default"
  product-id "23dc713a-4b0c-4a7f-a6a4-bcb303b8b603"
  product-name "utility-auto-product"
  product-version "1.0.0"
  product-title "utility auto product"
  rate-limit "rate-limit" "100" "1" "hour" "off" "on" "on" "off" "off" "off" ""
  api localtest_sandbox_utility_1.0.0
  rate-limit-scope per-application
exit

api-plan "localtest_sandbox_weather-auto-product_1.0.0_default"
  name "default"
  product-id "75faafff-08f9-443c-bf2f-1a390bb4a967"
  product-name "weather-auto-product"
  product-version "1.0.0"
  product-title "weather auto product"
  rate-limit "rate-limit" "100" "1" "hour" "off" "on" "on" "off" "off" "off" ""
  api localtest_sandbox_weather_1.0.0
  api localtest_sandbox_oauth2-server00782873-eac6-458e-80e9-e0c58156bbcd_1.0.0
  rate-limit-scope per-application
exit

%endif%

%if% available "api-collection"

api-collection "localtest_sandbox_collection"
  sandbox 
  organization-id "bf170b21-4c7b-42b8-a7de-cd6cb8d6d1c4"
  organization-name "localtest"
  catalog-id "cbdc17b1-e176-4101-a0bc-627a3588e30f"
  catalog-name "sandbox"
  cache-capacity 128
  routing-prefix "uri" "/localtest/sandbox"
  default-rate-limit "default" "100" "1" "hour" "off" "on" "on" "off" "off" "off" ""
  enforce-pre-assembly-rate-limits 
  processing-rule default-api-rule
  error-rule default-api-error-rule
  plan localtest_sandbox_sports-api-auto-product_1.0.0_default
  plan localtest_sandbox_utility-auto-product_1.0.0_default
  plan localtest_sandbox_weather-auto-product_1.0.0_default
  plan localtest_sandbox_sports-product_1.0.0_premium-plan
  plan localtest_sandbox_sports-product_1.0.0_beta-plan
  application-type app
exit

%endif%

%if% available "apiprobe-settings"

apiprobe-settings
  admin-state disabled
  max-records 1000
  expiration 60
  gateway-peering default-gateway-peering
exit

%endif%

%if% available "apigw"

apigw "apiconnect"
  front-protocol apiconnect_https_9443
  xml-manager xmlmgr_apiconnect
  maxdocs 5000
  size 0
  collection localtest_sandbox_collection
  share-count yes
exit

%endif%

%if% available "smtp-server-connection"

smtp-server-connection "default"
  summary "Default SMTP Server Connection"
  server-host smtp
  server-port 25
  auth plain
  ssl-client-type proxy
exit

%endif%

%if% available "control-list"

control-list "default-accept-all"
  type blacklist
  no case-insensitive 
exit

control-list "default-reject-all"
  type whitelist
  no case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_3_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_3_parameter-control"
  type blacklist
  no case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_4_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_4_parameter-control"
  type blacklist
  no case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_5_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_5_parameter-control"
  type blacklist
  no case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_6_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_sports-api_1.0.0_invoke_6_parameter-control"
  type blacklist
  no case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_13_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_13_parameter-control"
  type whitelist
  no case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_15_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_15_parameter-control"
  type whitelist
  no case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_2_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_2_parameter-control"
  type whitelist
  no case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_5_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_utility_1.0.0_invoke_5_parameter-control"
  type whitelist
  no case-insensitive 
exit

control-list "localtest_sandbox_weather_1.0.0_invoke_3_header-control"
  type blacklist
  case-insensitive 
exit

control-list "localtest_sandbox_weather_1.0.0_invoke_3_parameter-control"
  type whitelist
  no case-insensitive 
exit

%endif%

crypto
  
%if% available "sshdomainclientprofile"

sshdomainclientprofile
  no ciphers
  no kex-alg
  no mac-alg
  admin-state enabled
  ciphers CHACHA20-POLY1305_AT_OPENSSH.COM
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  ciphers AES128-CBC
  ciphers BLOWFISH-CBC
  ciphers CAST128-CBC
  ciphers AES192-CBC
  ciphers AES256-CBC
  ciphers RIJNDAEL-CBC_AT_LYSATOR.LIU.SE
  kex-alg CURVE25519-SHA256_AT_LIBSSH.ORG
  kex-alg ECDH-SHA2-NISTP256
  kex-alg ECDH-SHA2-NISTP384
  kex-alg ECDH-SHA2-NISTP521
  kex-alg DIFFIE-HELLMAN-GROUP-EXCHANGE-SHA256
  kex-alg DIFFIE-HELLMAN-GROUP14-SHA1
  mac-alg UMAC-64-ETM_AT_OPENSSH.COM
  mac-alg UMAC-128-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-512-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA1-ETM_AT_OPENSSH.COM
  mac-alg UMAC-64_AT_OPENSSH.COM
  mac-alg UMAC-128_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256
  mac-alg HMAC-SHA2-512
  mac-alg HMAC-SHA1
  enable-legacy-kex no
exit

%endif%

exit

crypto
  
%if% available "sshserverprofile"

sshserverprofile
  no ciphers
  no kex-alg
  no mac-alg
  admin-state enabled
  ciphers CHACHA20-POLY1305_AT_OPENSSH.COM
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  ciphers AES128-CBC
  ciphers BLOWFISH-CBC
  ciphers CAST128-CBC
  ciphers AES192-CBC
  ciphers AES256-CBC
  ciphers RIJNDAEL-CBC_AT_LYSATOR.LIU.SE
  kex-alg CURVE25519-SHA256_AT_LIBSSH.ORG
  kex-alg ECDH-SHA2-NISTP256
  kex-alg ECDH-SHA2-NISTP384
  kex-alg ECDH-SHA2-NISTP521
  kex-alg DIFFIE-HELLMAN-GROUP-EXCHANGE-SHA256
  kex-alg DIFFIE-HELLMAN-GROUP14-SHA1
  mac-alg UMAC-64-ETM_AT_OPENSSH.COM
  mac-alg UMAC-128-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-512-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA1-ETM_AT_OPENSSH.COM
  mac-alg UMAC-64_AT_OPENSSH.COM
  mac-alg UMAC-128_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256
  mac-alg HMAC-SHA2-512
  mac-alg HMAC-SHA1
  enable-legacy-kex no
  send-preauth-msg no
exit

%endif%

exit

%if% available "domain-availability"

domain-availability
  admin-state disabled
exit

%endif%

%if% available "nfs-dynamic-mounts"

nfs-dynamic-mounts
  admin-state disabled
  version 3
  transport tcp
  mount-type hard
  no read-only 
  rsize 4096
  wsize 4096
  timeo 7
  retrans 3
  inactivity-timeout 900
  mount-timeout 30
exit

%endif%

%if% available "slm-action"

slm-action "notify"
  type log-only
  log-priority warn
exit

slm-action "shape"
  type shape
  log-priority debug
exit

slm-action "throttle"
  type reject
  log-priority debug
exit

%endif%

%if% available "wsm-agent"

wsm-agent
  admin-state disabled
  max-records 3000
  max-memory 64000
  capture-mode faults
  buffer-mode discard
  no mediation-enforcement-metrics 
  max-payload-size 0
  push-interval 100
  push-priority normal
exit

%endif%
